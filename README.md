# 591 之租屋好麻煩 所以 用基因演算法找東西？


## 抓資料 

### 1. 用 selenium 抓資料
一開始看到591網頁的時候 按下開發人員工具 網頁會自己回到上一個頁面根本不讓我們看有甚麼組件

超級麻煩 根本就沒有辦法把資料抓下來

所以我們打算用 selenium 模擬一般的使用者 跟 線上搶票一樣 沒有道理可以用 selenium 搶票 但 591 抓不下來吧

... selenium一樣擋

只有首頁沒有而已

但進去的頁面點進去之後會直接跑到上一頁

就算用 remote debugging 模式也是一樣的結果

他可能有偵測到 webdriver 就不行吧


### 2. 用 竄改猴 抓下網頁的資料 然後存成 csv 載下來

恩 然後 開發人員工具打不開

所以看不到竄改猴的錯誤訊息

或者他根本就沒有辦法執行

換下一個方法

### 3. 模擬 http 訊號打打看他的 API？

開啟 burpsuite 抓一下 中間打過去的封包

然後找找找 找超級久

原來我們要的位置、價格、甚麼姬芭 全部都放在 /list 裡面

但他怎麼會知道我們要找的地點在哪裡勒

就是一般的 search params 而已...

新竹 region=4 ...

我傻眼

忙了整個下午...

然後寫一下 rest http request

假裝一下我自己是瀏覽器 useragent 跟 cookie 改一下

恩 整個網頁都丟出來了

真方便

最後用 beautiful soup 跑一下頁面

把我們要的 value 拉出來

1. title
2. price
3. area
4. address
5. url

看之後要不要再加一個照片吧

然後 for 迴圈跑一下

一次掃個 10 頁 不用幾秒就都噴出來了

很煩

```
歐然後 request好像要甚麼ssl還是甚麼驗證的

直接打 https 會出不來 然後打 http 會跑到他的舊版網站

不知道他們怎麼設定才會變這樣

在 request 那邊 加一個 verify false 就好了
```

## 基因演算法的部分